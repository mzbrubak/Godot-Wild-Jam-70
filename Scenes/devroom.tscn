[gd_scene load_steps=11 format=3 uid="uid://dni5wl2k4e2un"]

[ext_resource type="Script" path="res://Scenes/level_utilities.gd" id="1_7ookf"]
[ext_resource type="PackedScene" uid="uid://c0hyana6hkmis" path="res://Scenes/Fairy.tscn" id="2_ylh5w"]
[ext_resource type="PackedScene" uid="uid://bb8odyrqprt6v" path="res://Scenes/Possessable_NPC.tscn" id="3_xp4y2"]
[ext_resource type="PackedScene" uid="uid://c6k3kcffdrbk" path="res://Scenes/DayTimer.tscn" id="4_job3o"]
[ext_resource type="PackedScene" uid="uid://dcue3mkeww8qw" path="res://Scenes/Interactable_Object.tscn" id="4_lhwlw"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_2jvre"]
normal = Vector2(-1, 0)
distance = -758.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_5wv2g"]
distance = -978.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_cexcf"]
normal = Vector2(0, 1)
distance = 111.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_ptkku"]
normal = Vector2(1, 0)
distance = 452.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_owf8t"]
vertices = PackedVector2Array(968, 190, 992, 124, 992, 429, 964, 210, 964, 170, 843, 801, 1002, 546, 987, 946, 839, 821, 839, 781, 947, 227, 769, 431, 772, 548, 822, 764, 736, 528, 656, 459, 652, 296, 802, 760, 666, 645, 528, 289, 476, 464, 365, 298, 361, 278, 532, 255, 361, 318, 947, 153, 568, 581, 765, 781, 761, 801, 380, 810, 384, 790, 468, 652, 927, 231, 907, 227, 890, 210, 344, 335, 226, 943, 224, 621, 374, 621, 306, 770, 363, 827, 487, 836, 486, 943, 343, 831, 222, 140, 528, 136, 344, 261, 324, 257, 782, 764, 380, 770, 381, 557, 363, 753, 802, 842, 624, 937, 620, 835, 782, 838, 822, 838, 886, 190, 765, 821, 324, 339, 374, 468, 629, 133, 890, 170, 637, 255, 323, 827, 306, 810, 927, 149, 907, 153, 304, 261, 287, 278, 223, 464, 283, 298, 287, 318, 304, 335, 343, 749, 323, 753, 302, 790)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(1, 0, 4), PackedInt32Array(5, 6, 7, 8), PackedInt32Array(6, 5, 9), PackedInt32Array(10, 3, 2, 11), PackedInt32Array(12, 6, 9, 13), PackedInt32Array(11, 12, 14, 15, 16), PackedInt32Array(12, 13, 17, 18, 14), PackedInt32Array(19, 20, 21, 22, 23), PackedInt32Array(24, 21, 20), PackedInt32Array(1, 4, 25), PackedInt32Array(26, 18, 27, 28, 29, 30, 31), PackedInt32Array(32, 10, 11), PackedInt32Array(33, 32, 11, 16), PackedInt32Array(34, 33, 16), PackedInt32Array(35, 24, 20), PackedInt32Array(36, 37, 38, 39), PackedInt32Array(40, 41, 42, 36, 43), PackedInt32Array(44, 45, 23, 46, 47), PackedInt32Array(18, 17, 48), PackedInt32Array(18, 48, 27), PackedInt32Array(31, 30, 49), PackedInt32Array(50, 31, 49, 51, 38), PackedInt32Array(52, 7, 53, 54, 55), PackedInt32Array(56, 8, 7), PackedInt32Array(57, 34, 16), PackedInt32Array(29, 28, 58, 40), PackedInt32Array(59, 35, 20, 60), PackedInt32Array(61, 62, 57, 16, 63), PackedInt32Array(40, 58, 55, 54), PackedInt32Array(52, 56, 7), PackedInt32Array(40, 54, 41), PackedInt32Array(64, 43, 36), PackedInt32Array(65, 64, 36), PackedInt32Array(1, 25, 66), PackedInt32Array(61, 1, 66, 67), PackedInt32Array(61, 67, 62), PackedInt32Array(63, 16, 19, 23), PackedInt32Array(23, 22, 46), PackedInt32Array(44, 47, 68), PackedInt32Array(44, 68, 69), PackedInt32Array(70, 44, 69, 71), PackedInt32Array(70, 71, 72), PackedInt32Array(60, 70, 72, 73), PackedInt32Array(60, 73, 59), PackedInt32Array(60, 20, 50), PackedInt32Array(38, 60, 50), PackedInt32Array(38, 51, 74), PackedInt32Array(38, 74, 75), PackedInt32Array(76, 65, 36), PackedInt32Array(38, 75, 39), PackedInt32Array(36, 39, 76)])
outlines = Array[PackedVector2Array]([PackedVector2Array(90, 49, 1080, 46, 1096, 1049, 89, 1046)])
parsed_collision_mask = 1
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 30.0

[node name="GameMaster" type="Node2D"]
script = ExtResource("1_7ookf")

[node name="Polygon2D" type="Polygon2D" parent="."]
color = Color(0.388276, 0.312752, 0.215595, 1)
polygon = PackedVector2Array(0, 3, 1918, 3, 1921, 1083, -3, 1081)

[node name="Walls" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls"]
position = Vector2(327, 458)
shape = SubResource("WorldBoundaryShape2D_2jvre")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Walls"]
position = Vector2(280, 68)
shape = SubResource("WorldBoundaryShape2D_5wv2g")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Walls"]
position = Vector2(283, -65)
shape = SubResource("WorldBoundaryShape2D_cexcf")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Walls"]
position = Vector2(-362, 462)
shape = SubResource("WorldBoundaryShape2D_ptkku")

[node name="Timer" parent="." instance=ExtResource("4_job3o")]

[node name="Fairy" parent="." instance=ExtResource("2_ylh5w")]
position = Vector2(383, 256)

[node name="NPC" parent="." instance=ExtResource("3_xp4y2")]
position = Vector2(461, 216)
NAME = "Jonathan"

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_owf8t")

[node name="TestObstacle" type="StaticBody2D" parent="NavigationRegion2D"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="NavigationRegion2D/TestObstacle"]
position = Vector2(114, 268)
polygon = PackedVector2Array(-13, -212, -15, 767, 966, 767, 964, -219, 473, -215, 473, -163, 908, -174, 909, 191, 686, 193, 687, 250, 920, 248, 902, 709, 482, 699, 477, 597, 403, 598, 402, 705, 83, 706, 80, 323, 230, 323, 230, 229, 80, 226, 78, -157, 446, -162, 446, -215)

[node name="TestObstacle2" type="StaticBody2D" parent="NavigationRegion2D"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="NavigationRegion2D/TestObstacle2"]
position = Vector2(114, 268)
polygon = PackedVector2Array(443, -214, 447, -43, 491, -43, 481, -217)

[node name="TestObstacle3" type="StaticBody2D" parent="NavigationRegion2D"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="NavigationRegion2D/TestObstacle3"]
position = Vector2(114, 268)
polygon = PackedVector2Array(436, 52, 509, 56, 513, 206, 583, 266, 542, 335, 453, 277, 358, 344, 309, 290, 389, 212)

[node name="Interactable_Object" parent="NavigationRegion2D" instance=ExtResource("4_lhwlw")]
position = Vector2(927, 190)

[node name="InteractableObject" parent="NavigationRegion2D" instance=ExtResource("4_lhwlw")]
position = Vector2(324, 298)

[node name="InteractableObject2" parent="NavigationRegion2D" instance=ExtResource("4_lhwlw")]
position = Vector2(343, 790)

[node name="InteractableObject3" parent="NavigationRegion2D" instance=ExtResource("4_lhwlw")]
position = Vector2(802, 801)

[connection signal="AnnounceTime" from="Timer" to="." method="trackTime"]
